{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <div class="container theme-showcase" role="main">
    	<div style="height: 1px !important;"></div>
	    <h1 class="text-center mt-5">My Personal Gallery</h1>
		<div class="d-flex flex-wrap mt-4 justify-content-center">

			{% for item in results %}
			<div class="card" style="width: 18rem; border: none; margin-right: 30px;">
				<img id="myImg{{item['id']}}" class="myImg card-img-top mt-4 img-fluid" src={{item['image_url']}} alt="{{item['title']}}, {{item['year_of_publication']}}">
 				<div class="card-body d-flex flex-column text-center">
	    			{{item['title']}}, {{item['year_of_publication']}}
	    			<div class="mt-3">{{item['author']}}</div>
	    			<div class="d-flex flex-row justify-content-center">
		    			<a class="mt-3" style="margin-right: 13px;" href="/edit/{{results[0]['id']}}"><i class="fa fa-edit" style='font-size:20px; color: black'></i></a>
		    			<a class="mt-3" href="/delete/{{item['id']}}"><i class="fa fa-trash-o" style="font-size:20px; color: black"></i></a>
	    			</div>
				</div>
			</div>


			<!-- The Modal -->
			<div id="myModal{{item['id']}}" class="modal">
  				<span id="close{{item['id']}}" class="close mt-5">&times;</span>
  				<img class="modal-content" id="img{{item['id']}}">
  				<div class="caption" id="caption{{item['id']}}"></div>
			</div>

			<script>
			// Get the modal
			var modal = document.getElementById("myModal{{item['id']}}");

			// Get the image and insert it inside the modal - use its "alt" text as a caption
			var img = document.getElementById("myImg{{item['id']}}");
			var modalImg = document.getElementById("img{{item['id']}}");
			var captionText = document.getElementById("caption{{item['id']}}");
			img.onclick = function(){
  				modal.style.display = "block";
  				modalImg.src = this.src;
  				captionText.innerHTML = this.alt;
  			}

			// Get the <span> element that closes the modal
			var span = document.getElementById("close{{item['id']}}");

			// When the user clicks on <span> (x), close the modal
			span.onclick = function() { 
  			modal.style.display = "none";
			}
			</script>

			{% endfor %}
		</div>		
	</div>


{% endblock %}